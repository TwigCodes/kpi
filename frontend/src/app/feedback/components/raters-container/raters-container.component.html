<div class="container">
  <div class="row">
    <div class="col-md-12">
      <h1 class="main-heading">{{ 'nwcdkpi.feedback.title' | translate }}</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <ngx-mat-autocomplete
        [source]="items"
        [clearAfterSearch]="true"
        [placeholder]="'nwcdkpi.feedback.search.placeholder' | translate"
        [displayTemplate]="itemTemplate"
        (optionSelected)="selectRater($event)">
      </ngx-mat-autocomplete>
      <ng-template #itemTemplate let-item>
        <div class="contributors-wrapper">
          <a class="contributor" href="#" target="_blank">
            <img src="https://avatars0.githubusercontent.com/u/3764868?v=4">
          </a>
          <span> {{item.name}} </span>
          <span> {{item.email}} </span>
        </div>
      </ng-template>
    </div>
  </div>
  <div class="row align-items-end">
    <mat-card class="person-card" *ngFor="let rater of selectedRaters">
      <div class="ribbon-wrapper-green">
        <div class="ribbon-green"> {{ relationToUser(rater) | translate }} </div>
      </div>
      <mat-card-header>
        <div mat-card-avatar class="card-header-image"></div>
        <mat-card-title>{{ rater.name }}</mat-card-title>
        <mat-card-subtitle>{{ rater.title }}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <p class="d-flex mx-auto align-items-center justify-content-start">
          <mat-icon>email</mat-icon>
          <span>{{ rater.email }}</span>
        </p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button [disabled]="isSupervisorOrSubordinates(rater)"> {{ 'nwcdkpi.feedback.raters.remove' | translate }}</button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
